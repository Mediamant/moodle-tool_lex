define(["jquery","tool_lex/aws-sdk"],function(a){var b={};return b.init=function(){function b(a){a.preventDefault();var b=document.getElementById("wisdom");if(b&&b.value&&b.value.trim().length>0){var i=b.value.trim();b.value="...",b.locked=!0;var j={botAlias:"$LATEST",botName:"BookTrip",inputText:i,userId:g,sessionAttributes:h};c(i),f.postText(j,function(a,c){a&&(console.log(a,a.stack),d("Error:  "+a.message+" (see console for details)")),c&&(h=c.sessionAttributes,e(c)),b.value="",b.locked=!1})}return!1}function c(a){var b=document.getElementById("conversation"),c=document.createElement("P");c.className="userRequest",c.appendChild(document.createTextNode(a)),b.appendChild(c),b.scrollTop=b.scrollHeight}function d(a){var b=document.getElementById("conversation"),c=document.createElement("P");c.className="lexError",c.appendChild(document.createTextNode(a)),b.appendChild(c),b.scrollTop=b.scrollHeight}function e(a){var b=document.getElementById("conversation"),c=document.createElement("P");c.className="lexResponse",a.message&&(c.appendChild(document.createTextNode(a.message)),c.appendChild(document.createElement("br"))),"ReadyForFulfillment"===a.dialogState?c.appendChild(document.createTextNode("Ready for fulfillment")):c.appendChild(document.createTextNode("("+a.dialogState+")")),b.appendChild(c),b.scrollTop=b.scrollHeight}AWS.config.region="us-east-1",AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:""});var f=new AWS.LexRuntime,g="chatbot-demo"+Date.now(),h={};a("#chatform").submit(b)},b});